import{c as vt}from"./@shopify.ed910c88.js";var at={exports:{}};(function(mt,ct){(function(u,p){p(ct)})(vt,function(u){var p,T,V,E,F,z=-1,m=function(n){addEventListener("pageshow",function(t){t.persisted&&(z=t.timeStamp,n(t))},!0)},I=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},L=function(){var n=I();return n&&n.activationStart||0},d=function(n,t){var e=I(),i="navigate";return z>=0?i="back-forward-cache":e&&(i=document.prerendering||L()>0?"prerender":document.wasDiscarded?"restore":e.type.replace(/_/g,"-")),{name:n,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},h=function(n,t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch{}},l=function(n,t,e,i){var r,o;return function(s){t.value>=0&&(s||i)&&((o=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=o,t.rating=function(c,a){return c>a[1]?"poor":c>a[0]?"needs-improvement":"good"}(t.value,e),n(t))}},A=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},b=function(n){var t=function(e){e.type!=="pagehide"&&document.visibilityState!=="hidden"||n(e)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},M=function(n){var t=!1;return function(e){t||(n(e),t=!0)}},g=-1,J=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},w=function(n){document.visibilityState==="hidden"&&g>-1&&(g=n.type==="visibilitychange"?n.timeStamp:0,ut())},K=function(){addEventListener("visibilitychange",w,!0),addEventListener("prerenderingchange",w,!0)},ut=function(){removeEventListener("visibilitychange",w,!0),removeEventListener("prerenderingchange",w,!0)},D=function(){return g<0&&(g=J(),K(),m(function(){setTimeout(function(){g=J(),K()},0)})),{get firstHiddenTime(){return g}}},y=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},k=[1800,3e3],x=function(n,t){t=t||{},y(function(){var e,i=D(),r=d("FCP"),o=h("paint",function(s){s.forEach(function(c){c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<i.firstHiddenTime&&(r.value=Math.max(c.startTime-L(),0),r.entries.push(c),e(!0)))})});o&&(e=l(n,r,k,t.reportAllChanges),m(function(s){r=d("FCP"),e=l(n,r,k,t.reportAllChanges),A(function(){r.value=performance.now()-s.timeStamp,e(!0)})}))})},B=[.1,.25],Q=function(n,t){t=t||{},x(M(function(){var e,i=d("CLS",0),r=0,o=[],s=function(a){a.forEach(function(f){if(!f.hadRecentInput){var G=o[0],P=o[o.length-1];r&&f.startTime-P.startTime<1e3&&f.startTime-G.startTime<5e3?(r+=f.value,o.push(f)):(r=f.value,o=[f])}}),r>i.value&&(i.value=r,i.entries=o,e())},c=h("layout-shift",s);c&&(e=l(n,i,B,t.reportAllChanges),b(function(){s(c.takeRecords()),e(!0)}),m(function(){r=0,i=d("CLS",0),e=l(n,i,B,t.reportAllChanges),A(function(){return e()})}),setTimeout(e,0))}))},C={passive:!0,capture:!0},st=new Date,U=function(n,t){p||(p=t,T=n,V=new Date,X(removeEventListener),W())},W=function(){if(T>=0&&T<V-st){var n={entryType:"first-input",name:p.type,target:p.target,cancelable:p.cancelable,startTime:p.timeStamp,processingStart:p.timeStamp+T};E.forEach(function(t){t(n)}),E=[]}},ft=function(n){if(n.cancelable){var t=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(e,i){var r=function(){U(e,i),s()},o=function(){s()},s=function(){removeEventListener("pointerup",r,C),removeEventListener("pointercancel",o,C)};addEventListener("pointerup",r,C),addEventListener("pointercancel",o,C)}(t,n):U(t,n)}},X=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return n(t,ft,C)})},N=[100,300],Y=function(n,t){t=t||{},y(function(){var e,i=D(),r=d("FID"),o=function(a){a.startTime<i.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),e(!0))},s=function(a){a.forEach(o)},c=h("first-input",s);e=l(n,r,N,t.reportAllChanges),c&&b(M(function(){s(c.takeRecords()),c.disconnect()})),c&&m(function(){var a;r=d("FID"),e=l(n,r,N,t.reportAllChanges),E=[],T=-1,p=null,X(addEventListener),a=o,E.push(a),W()})})},Z=0,R=1/0,S=0,dt=function(n){n.forEach(function(t){t.interactionId&&(R=Math.min(R,t.interactionId),S=Math.max(S,t.interactionId),Z=S?(S-R)/7+1:0)})},$=function(){return F?Z:performance.interactionCount||0},lt=function(){"interactionCount"in performance||F||(F=h("event",dt,{type:"event",buffered:!0,durationThreshold:0}))},H=[200,500],tt=0,nt=function(){return $()-tt},v=[],O={},et=function(n){var t=v[v.length-1],e=O[n.interactionId];if(e||v.length<10||n.duration>t.latency){if(e)e.entries.push(n),e.latency=Math.max(e.latency,n.duration);else{var i={id:n.interactionId,latency:n.duration,entries:[n]};O[i.id]=i,v.push(i)}v.sort(function(r,o){return o.latency-r.latency}),v.splice(10).forEach(function(r){delete O[r.id]})}},rt=function(n,t){t=t||{},y(function(){lt();var e,i=d("INP"),r=function(s){s.forEach(function(f){f.interactionId&&et(f),f.entryType==="first-input"&&!v.some(function(G){return G.entries.some(function(P){return f.duration===P.duration&&f.startTime===P.startTime})})&&et(f)});var c,a=(c=Math.min(v.length-1,Math.floor(nt()/50)),v[c]);a&&a.latency!==i.value&&(i.value=a.latency,i.entries=a.entries,e())},o=h("event",r,{durationThreshold:t.durationThreshold||40});e=l(n,i,H,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),b(function(){r(o.takeRecords()),i.value<0&&nt()>0&&(i.value=0,i.entries=[]),e(!0)}),m(function(){v=[],tt=$(),i=d("INP"),e=l(n,i,H,t.reportAllChanges)}))})},_=[2500,4e3],j={},it=function(n,t){t=t||{},y(function(){var e,i=D(),r=d("LCP"),o=function(a){var f=a[a.length-1];f&&f.startTime<i.firstHiddenTime&&(r.value=Math.max(f.startTime-L(),0),r.entries=[f],e())},s=h("largest-contentful-paint",o);if(s){e=l(n,r,_,t.reportAllChanges);var c=M(function(){j[r.id]||(o(s.takeRecords()),s.disconnect(),j[r.id]=!0,e(!0))});["keydown","click"].forEach(function(a){addEventListener(a,c,!0)}),b(c),m(function(a){r=d("LCP"),e=l(n,r,_,t.reportAllChanges),A(function(){r.value=performance.now()-a.timeStamp,j[r.id]=!0,e(!0)})})}})},q=[800,1800],pt=function n(t){document.prerendering?y(function(){return n(t)}):document.readyState!=="complete"?addEventListener("load",function(){return n(t)},!0):setTimeout(t,0)},ot=function(n,t){t=t||{};var e=d("TTFB"),i=l(n,e,q,t.reportAllChanges);pt(function(){var r=I();if(r){var o=r.responseStart;if(o<=0||o>performance.now())return;e.value=Math.max(o-L(),0),e.entries=[r],i(!0),m(function(){e=d("TTFB",0),(i=l(n,e,q,t.reportAllChanges))(!0)})}})};u.CLSThresholds=B,u.FCPThresholds=k,u.FIDThresholds=N,u.INPThresholds=H,u.LCPThresholds=_,u.TTFBThresholds=q,u.getCLS=Q,u.getFCP=x,u.getFID=Y,u.getINP=rt,u.getLCP=it,u.getTTFB=ot,u.onCLS=Q,u.onFCP=x,u.onFID=Y,u.onINP=rt,u.onLCP=it,u.onTTFB=ot,Object.defineProperty(u,"__esModule",{value:!0})})})(at,at.exports);export{at as w};
