import{R as L}from"./react-dom.3bcc12a2.js";import{a as d,b as m,j as e,d as C,e as s,F as v,C as p,T as g,f as h,P as y,L as u,B as T,A as E,t as M,S as b,g as f,I as O,E as I}from"./@shopify.ed910c88.js";import{r as l}from"./react.0eba5c70.js";import{u as P,a as B,b as _,c as j}from"./react-router.699a6d80.js";import{u as F,Q as N,a as U,M as k,b as z}from"./react-query.f776da15.js";import{B as D}from"./react-router-dom.d2f5ff8a.js";import"./object-assign.9840bf7d.js";import"./scheduler.fc517f69.js";import"./web-vitals.054bdbc3.js";import"./@remix-run.710d1171.js";import"./@babel.45f3495d.js";const Q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}};Q();function $(){const r=d.useAppBridge(),{search:n}=P();return l.exports.useEffect(()=>{if(!!r&&!!n){const i=new URLSearchParams(n).get("redirectUri");new URL(decodeURIComponent(i)).hostname===location.hostname&&m.Redirect.create(r).dispatch(m.Redirect.Action.REMOTE,decodeURIComponent(i))}},[r,n]),e(d.Loading,{})}var q=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),H="/assets/empty-state.aece716c.svg",W="/assets/home-trophy.d70b3542.png";function S(){const r=d.useAppBridge(),n=C.authenticatedFetch(r);return async(o,i)=>{const t=await n(o,i);return X(t.headers,r),t}}function X(r,n){if(r.get("X-Shopify-API-Request-Failure-Reauthorize")==="1"){const o=r.get("X-Shopify-API-Request-Failure-Reauthorize-Url")||"/api/auth";m.Redirect.create(n).dispatch(m.Redirect.Action.REMOTE,o.startsWith("/")?`https://${window.location.host}${o}`:o)}}const K=({url:r,fetchInit:n={},reactQueryOptions:o})=>{const i=S(),t=l.exports.useMemo(()=>async()=>(await i(r,n)).json(),[r,JSON.stringify(n)]);return F(r,t,{...o,refetchOnWindowFocus:!1})};function Y(){const r={content:null},[n,o]=l.exports.useState(!0),[i,t]=l.exports.useState(r),a=S(),{data:c,refetch:R,isLoading:A,isRefetching:x}=K({url:"/api/products/count",reactQueryOptions:{onSuccess:()=>{o(!1)}}}),w=i.content&&!x&&e(d.Toast,{...i,onDismiss:()=>t(r)});return s(v,{children:[w,e(p,{title:"Product Counter",sectioned:!0,primaryFooterAction:{content:"Populate 5 products",onAction:async()=>{o(!0),(await a("/api/products/create")).ok?(await R(),t({content:"5 products created!"})):(o(!1),t({content:"There was an error creating products",error:!0}))},loading:n},children:s(g,{spacing:"loose",children:[e("p",{children:"Sample products are created with a default title and price. You can remove them at any time."}),s(h,{as:"h4",variant:"headingMd",children:["TOTAL PRODUCTS",e(h,{variant:"bodyMd",as:"p",fontWeight:"semibold",children:A?"-":c.count})]})]})})]})}function G({children:r}){const n=P(),o=B(),i=l.exports.useMemo(()=>({replace:c=>{o(c,{replace:!0})}}),[o]),t=l.exports.useMemo(()=>({history:i,location:n}),[i,n]),[a]=l.exports.useState(()=>({host:"https://https://pierre-galaxy-arbitration-riverside.trycloudflare.com/admin/apps/demo-downtown-store",apiKey:"7245d3de5e6f743bd44255e87783c5b4",forceRedirect:!0}));if(console.log("shopify","7245d3de5e6f743bd44255e87783c5b4"),!a.host){const c={title:"Missing host query argument",children:s(v,{children:["Your app can only load if the URL has a ",e("b",{children:"host"})," argument. Please ensure that it is set, or access your app using the Partners Dashboard ",e("b",{children:"Test your app"})," feature"]})};return e(y,{narrowWidth:!0,children:e(u,{children:e(u.Section,{children:e("div",{style:{marginTop:"100px"},children:e(T,{...c,status:"critical"})})})})})}return e(d.Provider,{config:a,router:t,children:r})}function J({children:r}){const n=new N({queryCache:new U,mutationCache:new k});return e(z,{client:n,children:r})}function V({url:r,children:n,external:o,...i}){const t=d.useNavigate(),a=l.exports.useCallback(()=>{t(r)},[r]);return o||/^(?:[a-z][a-z\d+.-]*:|\/\/)/.test(r)?e("a",{...i,href:r,target:"_blank",rel:"noopener noreferrer",children:n}):e("a",{...i,onClick:a,children:n})}function Z({children:r}){return e(E,{i18n:M,linkComponent:V,children:r})}function ee(){return s(y,{narrowWidth:!0,children:[e(d.TitleBar,{title:"App name",primaryAction:null}),s(u,{children:[e(u.Section,{children:e(p,{sectioned:!0,children:s(b,{wrap:!1,spacing:"extraTight",distribution:"trailing",alignment:"center",children:[e(b.Item,{fill:!0,children:s(g,{spacing:"loose",children:[e(h,{as:"h2",variant:"headingMd",children:"Nice work on building a Shopify app \u{1F389}"}),s("p",{children:["Your app is ready to explore! It contains everything you need to get started including the"," ",e(f,{url:"https://polaris.shopify.com/",external:!0,children:"Polaris design system"}),","," ",e(f,{url:"https://shopify.dev/api/admin-graphql",external:!0,children:"Shopify Admin API"}),", and"," ",e(f,{url:"https://shopify.dev/apps/tools/app-bridge",external:!0,children:"App Bridge"})," ","UI library and components."]}),s("p",{children:["Ready to go? Start populating your app with some sample products to view and test in your store."," "]}),s("p",{children:["Learn more about building out your app in"," ",e(f,{url:"https://shopify.dev/apps/getting-started/add-functionality",external:!0,children:"this Shopify tutorial"})," ","\u{1F4DA}"," "]})]})}),e(b.Item,{children:e("div",{style:{padding:"0 20px"},children:e(O,{source:W,alt:"Nice work on building a Shopify app",width:120})})})]})})}),e(u.Section,{children:e(Y,{})})]})]})}var te=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));function re(){return e(y,{children:e(p,{children:e(p.Section,{children:e(I,{heading:"There is no page at this address",image:H,children:e("p",{children:"Check the URL and try again, or use the search bar to find what you need."})})})})})}var ne=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));function oe(){return s(y,{children:[e(d.TitleBar,{title:"Page name",primaryAction:{content:"Primary action",onAction:()=>console.log("Primary action")},secondaryActions:[{content:"Secondary action",onAction:()=>console.log("Secondary action")}]}),s(u,{children:[s(u.Section,{children:[s(p,{sectioned:!0,children:[e(h,{variant:"headingMd",as:"h2",children:"Heading"}),e(g,{children:e("p",{children:"Body"})})]}),s(p,{sectioned:!0,children:[e(h,{variant:"headingMd",as:"h2",children:"Heading"}),e(g,{children:e("p",{children:"Body"})})]})]}),e(u.Section,{secondary:!0,children:s(p,{sectioned:!0,children:[e(h,{variant:"headingMd",as:"h2",children:"Heading"}),e(g,{children:e("p",{children:"Body"})})]})})]})]})}var ie=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));function ae({pages:r}){const n=se(r),o=n.map(({path:t,component:a})=>e(_,{path:t,element:e(a,{})},t)),i=n.find(({path:t})=>t==="/notFound").component;return s(j,{children:[o,e(_,{path:"*",element:e(i,{})})]})}function se(r){return Object.keys(r).map(o=>{let i=o.replace("./pages","").replace(/\.(t|j)sx?$/,"").replace(/\/index$/i,"/").replace(/\b[A-Z]/,t=>t.toLowerCase()).replace(/\[(?:[.]{3})?(\w+?)\]/g,(t,a)=>`:${a}`);return i.endsWith("/")&&i!=="/"&&(i=i.substring(0,i.length-1)),r[o].default||console.warn(`${o} doesn't export a default React component`),{path:i,component:r[o].default}}).filter(o=>o.component)}function ce(){const r={"./pages/ExitIframe.jsx":q,"./pages/index.jsx":te,"./pages/NotFound.jsx":ne,"./pages/pagename.jsx":ie};return e(Z,{children:e(D,{children:e(G,{children:s(J,{children:[e(d.NavigationMenu,{navigationLinks:[{label:"Page name",destination:"/pagename"}]}),e(ae,{pages:r})]})})})})}L.render(e(ce,{}),document.getElementById("app"));
